main module{
	knowledge{
		%distance(X1,Y1,X2,Y2,Res):- Res is sqrt((X2-X1)**2 + (Y2-Y1)**2).
	}
	
	beliefs {
	}
	program{
		%if bel(paired(Id), percept(friendly(_,_,Id,_,_,_,_,X,Y))) then move(X,Y).	
		if bel(percept(friendly(_,'Terran Marine', Id,_, _, _, _, _, _))) then follow(Id).
		
	}	

	actionspec {
		follow(Id){
			pre{not(percept(following))}
			post{true}
		}
		
		%move(X,Y) {
		%	pre { percept(position(SelfX,SelfY)), distance(X,Y,SelfX,SelfY,Res), Res >= 1}
		%	post {true}
		%}
	}
}

event module {
	program {
		%if bel(not(paired(_)), percept(friendly(_,'Terran Marine', Id,_, _, _, _, X, Y))) then insert(paired(Id)).
		%if bel(paired(Id), not(percept(friendly(_,_, Id, _, _, _, _)))) then delete(paired(Id)).
	}
}