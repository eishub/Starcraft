use ZergZergling as knowledge.
use "../GenericMods/GenericPercepts" as module.

order = randomall.
module ZergZerglingEvent {
	%%%%%%%%%%%%%%% --------------------------------------- Percepts --------------------------------------- %%%%%%%%%%%%%%%
	% The handling of the position 
	if percept(status(_,_,X1,Y1)), bel(position(X2,Y2), (X1 \= X2 ; Y1 \= Y2)) then delete(position(X2,Y2)) + insert(position(X1,Y1)).
	
	% The handling of the health
	if percept(status(H1,_,_,_)), bel(hitPoints(H2), H1 \= H2) then delete(hitPoints(H2)) + insert(hitPoints(H1)).
		
	if percept(condition(H1)), bel(condition(H2)) then delete(condition(H2)) + insert(condition(H1)).
	
	if percept(condition(List)), bel(moving, not(member(moving,List))) then delete(moving).
		
	%%%%%%%%%%%%%%% --------------------------------------- Messaging --------------------------------------- %%%%%%%%%%%%%%%
	if goal(position(X,Y)), bel(position(X2,Y2), distance(X,Y,X2,Y2,D), D<49) then drop(position(X,Y)).
	
	if not(goal(position(_,_))),bel(chokepoint(X, Y),not(moving) ,position(X2,Y2),distance(X,Y,X2,Y2,D), D>49) 
		then adopt(position(X, Y)).
}