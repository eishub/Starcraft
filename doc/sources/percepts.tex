%%%----------------------------------------------------------
\chapter{Percepts}
%%%----------------------------------------------------------

This chapter lists all the percepts that are generated by the StarCraft connector, which vary per unit and on the \textit{percepts} init parameter (see the previous chapter). For the implementation of these percepts in your agent programs, we refer to the GOAL programming guide. Note that both buildings and moving soldiers are called `units' in StarCraft.

In order to reduce the number of percepts, one generic guideline used in this connector is to \textit{only create percepts for information that changes in a single match or between matches}. Even though there is a lot of static information in a game like StarCraft, like the type of a unit (i.e., biological or mechanic), what a certain unit costs to produce, or the units a certain building can produce, this information remains the same for any execution of any agent system, and is thus much better suited to be encoded in the agent system itself. To this end, a Prolog file is supplied in the connector's installer that contains a large list of predicates representing static information about the game. The predicates available in this file are listed at the end of this section. Note that it is not expected that agents `hardcode' information about specific maps on which matches can be played, and thus agents will be informed about changes between matches (i.e., map-specific information).

Another guideline used in this connector is that \textit{no data is sent through percepts that can either be calculated based on other data, (e.g., the number of friendly units by adding the amount of percepts about their status) or retrieved from other agents (e.g., the position of a friendly unit)}. Relaying such information through messaging(channels) is usually much more efficient, as one can then selectively choose at which times and to which units to send information, as opposed to percepts always being sent to certain units even when they do not require them (at that time) for their decision making.

\pagebreak

%%%----------------------------------------------------------
\section{Global Static Percepts}
These percepts represent global information (i.e., not specific to a certain unit) that will not change during a match. Note that all coordinates (X,Y) reflect tile positions; one such tile is actually 16 by 16 pixels.
%%%----------------------------------------------------------

\subsection{base/6}
\begin{tabularx}{\textwidth}{lX}
 Description & Information about all base locations on the map. These are possible construction sites for resource centers (or spawning sites for the initial centers). \\
 Type & Send once \\
 Syntax & \verb|base(<IsPossibleStart>,<Minerals>,<Gas>,<X>,<Y>,<Region>)| \\
 Example & \verb|base(true, 13500, 5000, 28, 32, 8)| \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<IsPossibleStart>|} & Indicates whether the location is a potential starting location or not (i.e., there are 2 on a 2-player map and 4 on a 4-player map). \\
            & \textbf{Type} & \verb|Boolean| \\
            & \textbf{Range} & [true,false] \\
            \cline{2-3}
 			& \textbf{\verb|<Minerals>|} & The total amount of minerals available at/near the base location (at the start of the game).\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
 			& \textbf{\verb|<Gas>|} & The total amount of vespense gas available at/near the base location (at the start of the game).\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
 			& \textbf{\verb|<X>|} & The x-coordinate of the base location.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Y>|} & The y-coordinate of the base location.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Region>|} & The region the base is located in, which can for example be used to find matching resources. \\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
\end{tabularx}

\subsection{chokepoint/6}
\begin{tabularx}{\textwidth}{lX}
 Description & Information about all chokepoints on the map. These are the narrow points on the map where only a limited amount of units can go through at the same time (depending on the specific chokepoint's width). All regions on the map are connected through chokepoints. \\
 Type & Send once \\
 Syntax & \verb|chokepoint(<X1>,<Y1>,<X2>,<Y2>,<Region1>,<Region2>)| \\
 Example & \verb|chokepoint(12, 15, 14, 17, 1, 2)| \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<X1>|} & The x-coordinate of the first side.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Y1>|} & The y-coordinate of the first side.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<X2>|} & The x-coordinate of the second side.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Y2>|} & The y-coordinate of the second side.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Region1>|} & The ID of the first region.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Region2>|} & The ID of the second region.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
\end{tabularx}

\pagebreak

\subsection{enemyPlayer/2}
\begin{tabularx}{\textwidth}{lX}
 Description & The name and race of the opponent (it is assumed there is only one opponent in this connector). \\
 Type & Send once \\
 Syntax &  \verb|enemyPlayer(<Name>,<Race>)| \\
 Example & \verb|enemyPlayer('ForceBot', zerg)| \\
 Note & When playing against a random race (\textit{<Race>=unknown}), you can use something like:
 \end{tabularx}
 \begin{lstlisting}
 if bel(enemyPlayer(Name,unknown), enemy(_,Type,_,_,_,_,_,_,_,_,_),
 sub_string(Type,0,1,_,Race)) then {
   if bel(Race = "z") then delete(enemyPlayer(Name,unknown))
   + insert(enemyPlayer(Name,zerg)).
   if bel(Race = "p") then delete(enemyPlayer(Name,unknown))
   + insert(enemyPlayer(Name,protoss)).
   if bel(Race = "t") then delete(enemyPlayer(Name,unknown))
   + insert(enemyPlayer(Name,terran)).
  }
 \end{lstlisting}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
  Parameters & \textbf{\verb|<Name>|} & The name of the enemy player. \\
             & \textbf{Type} & \verb|String| \\
            \cline{2-3}
 \cline{2-3}
  Parameters & \textbf{\verb|<Race>|} & The enemy race. \\
             & \textbf{Type} & \verb|String| \\
             & \textbf{Range} & \textit{[terran,protoss,zerg,unknown]} \\
            \cline{2-3}
\end{tabularx}

\subsection{map/3}
\begin{tabularx}{\textwidth}{lX}
 Description & The name, width, and the height of the map (in tiles). \\
 Type & Send once \\
 Syntax & \verb|map(<Name>,<Width>,<Height>)| \\
 Example & \verb|map('Destination 1.1', 96, 128)| \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
  Parameters & \textbf{\verb|<Name>|} & The name of the map (ASCII characters only).\\
            & \textbf{Type} & \verb|String| \\
            \cline{2-3}
            & \textbf{\verb|<Width>|} & The width of the map (no. of horizontal tiles).\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Height>|} & The height of the map (no. of vertical tiles).\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
\end{tabularx}

\subsection{ownRace/1}
\begin{tabularx}{\textwidth}{lX}
 Description & The race of yourself (useful when playing as random). \\
 Type & Send once \\
 Syntax &  \verb|ownRace(<Race>)| \\
 Example & \verb|ownRace(protoss)| \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
  Parameters & \textbf{\verb|<Race>|} & The player's race. \\
             & \textbf{Type} & \verb|String| \\
             & \textbf{Range} & \textit{[terran,protoss,zerg]} \\
            \cline{2-3}
\end{tabularx}

\subsection{region/5}
\begin{tabularx}{\textwidth}{lX}
 Description & Information about all regions on the map. Regions are connected by chokepoints and can be on high or low ground. \\
 Type & Send once \\
 Syntax & \verb|region(<Id>,<CenterX>,<CenterY>,<Height>,<ConnectedRegionsList>)| \\
 Example & \verb|region(12, 15, 14, 17, [1,2])| \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<Id>|} & The ID of the region.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<CenterX>|} & The x-coordinate of the center of the region.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<CenterY>|} & The y-coordinate of the center of the region.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Height>|} & The (relative) height of the region.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<ConnectedRegionsList>|} & A list of regions (by ID) that are connected to this region (i.e., through chokepoints).\\
            & \textbf{Type} & \verb|List| \\
            \cline{2-3}
\end{tabularx}

\newpage

%%%----------------------------------------------------------
\section{Global Dynamic Percepts}
These percepts represent information that changes during a match, but is still global to the match (i.e., not specific to a certain unit). Note that units will keep the same ID after a morph or merge.
%%%----------------------------------------------------------

\subsection{attacking/2}
\begin{tabularx}{\textwidth}{lX}
 Description & All enemy units that are attacking / going to attack and the corresponding friendly units  that they have targeted. \\
 Type & Send always \\
 Syntax & \verb|attacking(<Id>,<TargetId>)| \\
 Example & \verb|attacking(123, 177)| \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<Id>|} & The ID of the enemy unit that is attacking / going to attack. \\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<TargetId>|} & The ID of the friendly unit that is being targeted. \\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
\end{tabularx}

\subsection{constructionSite/3-4}
\begin{tabularx}{\textwidth}{lX}
 Description & All visible and non-obstructed locations at which buildings can potentially be constructed. Such construction sites are squares containing 4 tiles, as the minimum size of any building is 2 by 2 tiles. This information is updated every 50 game frames only. Note that resource centers require a minimum distance to mineral patches and geysers (which the locations as indicated by \textit{base/4} conform to for example). \\
 Type & Send always \\
 Syntax & (Protoss) \verb|constructionSite(<X>,<Y>,<Region>,<InPylonRange>)| \\
        & (Zerg) \verb|constructionSite(<X>,<Y>,<Region>,<OnCreep>)|\\
        & (Terran) \verb|constructionSite(<X>,<Y>,<Region>)| \\
 Example & \verb|constructionSite(66, 98, 4, false)| \\
         & \verb|constructionSite(66, 98, 4)| \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<X>|} & The x-coordinate of the construction site.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Y>|} & The y-coordinate of the construction site.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Region>|} & The region the construction site is in.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<InPylonRange>|} & Indicates whether the construction site is in range of a pylon (for Protoss only). \\
            & \textbf{Type} & \verb|Boolean| \\
            & \textbf{Range} & [true,false] \\
            \cline{2-3}
            & \textbf{\verb|<OnCreep>|} & Indicates whether the construction site is on creep (for Zerg only). \\
            & \textbf{Type} & \verb|Boolean| \\
            & \textbf{Range} & [true,false] \\
            \cline{2-3}
\end{tabularx}


\subsection{enemy/11}
\begin{tabularx}{\textwidth}{lX}
 Description & Information about all enemy units. Note that this also includes unfinished units (like buildings under construction), cloaked units that cannot be attacked until they are detected (see \mbox{\textit{<Conditions>}}), or even units that cannot be attacked at all (like spells). Moreover, this percept will be sent for any enemy unit that has ever been visible (see \mbox{\textit{<LastUpdated>}}); percepts will no longer be sent for only those enemy units that were destroyed in our view. Neutral buildings on the map are also regarded as enemy units. \\
 Type & Send always \\
 Syntax & \verb|enemy(<Id>,<Type>,<Health>,<Shield>,<Energy>,<Conditions>| \\ & \quad \verb|<Orientation>,<X>,<Y>,<Region>,<LastUpdated>)| \\
 Example & \verb|enemy(12, `Zerg Overlord', 100, 0, 0, [flying], 0, 12, 96, 3, 50)| \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<Id>|} & The ID of the unit.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Type>|} & The type of the unit. This consists of a string with the race of the unit and the name of the unit parted by a space. \\
            & \textbf{Type} & \verb|String| \\
            & \textbf{Range} & See \ref{unittype} \\
            \cline{2-3}
            & \textbf{\verb|<Health>|} & The current amount of health of the unit.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--\verb|<maxHealth>|] \\
            \cline{2-3}
            & \textbf{\verb|<Shield>|} & The current amount of shields of the unit. \\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--\verb|<maxShield>|] \\
            \cline{2-3}
            & \textbf{\verb|<Energy>|} & The current amount of energy of the unit. \\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--\verb|<maxEnergy>|] \\
            \cline{2-3}
            & \textbf{\verb|<Conditions>|} & A list representing the current conditions of the unit. Each unit can have multiple or no conditions depending on the unit and situation. Note that not all conditions are available for enemies.\\
            & \textbf{Type} & \verb|List of Strings| \\
            & \textbf{Range} & See \ref{conditions} \\
            \cline{2-3}
            & \textbf{\verb|<Orientation>|} & The orientation of the unit, rounded to the nearest multiple of 45 degrees.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--360] \\
            \cline{2-3}
            & \textbf{\verb|<X>|} & The x-coordinate of the unit.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Y>|} & The y-coordinate of the unit.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
\end{tabularx}
\begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Continued  & \textbf{\verb|<Region>|} & The region the unit is in. Can be 0 if the unit is on a chokepoint (and thus `in-between' regions).\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<LastUpdated>|} & The game frame in which information about this unit was last updated. If this is equal to the current game frame, the enemy unit is within our view; otherwise it is within the fog-of-war. Only enemy units that are destroyed within our view are removed from the percepted enemies.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
\end{tabularx}
\subsection{friendly/2}
\begin{tabularx}{\textwidth}{lX}
 Description & Information about all (living) units of the player. Note that this also includes unfinished units that do not have an entity and thus agent yet (like buildings under construction), see also the \textit{underConstruction/6} percept. \\
 Type & Send always \\
 Syntax & \verb|friendly(<Id>,<Type>)| \\
 Example & \verb|friendly(26, `Protoss Gateway')| \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters
            & \textbf{\verb|<Id>|} & The ID of the unit.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Type>|} & The type of the unit. This consists of a string with the race of the unit and the name of the unit parted by a space. \\
            & \textbf{Type} & \verb|String| \\
            & \textbf{Range} & See \ref{unittype} \\
            \cline{2-3}
\end{tabularx}

\subsection{gameframe/1}
\begin{tabularx}{\textwidth}{lX}
 Description & The current game frame. For more information see \ref{game speed}. \\
 Type & Send on change \\
 Syntax & \verb|gameframe(<Number>)| \\
 Example & \verb|gameframe(150)|   \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
  Parameters & \textbf{\verb|<Number>|} & The game frame count. \\
             & \textbf{Type} & \verb|Integer| \\
             & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
\end{tabularx}

\subsection{mineralField/5}
\begin{tabularx}{\textwidth}{lX}
 Description & Information about visible (non-empty) mineral fields. \\
 Type & Send always \\
 Syntax & \verb|mineralField(<Id>,<Resources>,<X>,<Y>,<Region>)| \\
 Example & \verb|mineralField(57, 5000, 6, 22, 32)| \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<Id>|} & The ID of the mineral field.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Resources>|} & The amount of minerals left in the field, rounded to the nearest (upper) multiple of 100. Can be 0 for mineral fields that obstruct e.g. chokepoints (mined out fields disappear).\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--5000] \\
            \cline{2-3}
            & \textbf{\verb|<X>|} & The x-coordinate of the mineral field.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Y>|} & The y-coordinate of the mineral field.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Region>|} & The region the mineral field is in.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
\end{tabularx}


\subsection{nuke/3}
\begin{tabularx}{\textwidth}{lX}
 Description & Indicates that a nuclear strike will land on the given position. \\
 Type & Send always \\
 Syntax & \verb|nuke(<X>,<Y>,<Region>)| \\
 Example & \verb|nuke(22, 37, 1)|   \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<X>|} & The x-coordinate of the incoming nuclear strike.\\
            & \textbf{Type} & \verb|Integer| \\
            &\textbf{Range} &  [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Y>|} & The y-coordinate of the incoming nuclear strike.\\
            & \textbf{Type} & \verb|Integer| \\
            &\textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Region>|} & The corresponding region for the incoming nuclear strike.\\
            & \textbf{Type} & \verb|Integer| \\
            &\textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
\end{tabularx}



\subsection{researched/1}
\begin{tabularx}{\textwidth}{lX}
 Description & A list of all upgrade types that have been completed. \\
 Type & Send on change \\
 Syntax & \verb|researched(<CompletedList>)| \\
 Example & \verb|researched(['Grooved Spines', 'Lurker Aspect'])| \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<CompletedList>|} & All finished upgrades. \\
            & \textbf{Type} & \verb|List| \\
            & \textbf{Range} & See Section \ref{upgradetype} \\
            \cline{2-3}
\end{tabularx}

\subsection{resources/4}
\begin{tabularx}{\textwidth}{lX}
 Description & The amount of minerals, gas and supply available to the player (i.e. shared by all units). Note that in order to avoid halves, supply is multiplied by 2 throughout this interface, so 10 supply in-game corresponds with 20 supply in this environment. \\
 Type & Send on change \\
 Syntax & \verb|resources(<Minerals>,<Gas>,<UsedSupply>,<TotalSupply>)| \\
 Example & \verb|resources(350, 100, 25, 41)| \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<Minerals>|} & The current amount of minerals available. \\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Gas>|} & The current amount of gas available. \\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<UsedSupply>|} & The amount of supply that is in use \\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--400] \\
            \cline{2-3}
            & \textbf{\verb|<TotalSupply>|} & The total amount of supply that is available. Note that usually \verb|<TS>| is always greater or equal to \verb|<CS>|, but this can change when supply providing units are killed. \\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--400] \\
            \cline{2-3}
\end{tabularx}

\subsection{underConstruction/6}
\begin{tabularx}{\textwidth}{lX}
 Description & Indicates a new friendly unit (i.e. either a building or a moving unit) that is under construction (i.e. by another unit, or morphing, or warping in). This percept allows getting information about unfinished units that do not have an entity (and thus agent) yet. \\
 Type & Send always \\
 Syntax & \verb|underConstruction(<Id>,<BuilderId>,<Vitality>,<X>,<Y>,<Region>)| \\
 Example & \verb|underConstruction(44, 3, 74, 22, 37, 2)|   \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<Id>|} & The ID of the (unfinished) unit.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Id>|} & The ID of the unit that is responsible for the construction or training of this unit (if any applicable; -1 otherwise).\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [-1--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Vitality>|} & The combined amount of health and shield of the unit. This generally increases whilst the unit is nearing completion, though it can simultaneously be brought down as well by enemy attacks.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<X>|} & The x-coordinate of the unit (cannot change). \\
            & \textbf{Type} & \verb|Integer| \\
            &\textbf{Range} &  [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Y>|} & The y-coordinate of the unit (cannot change). \\
            & \textbf{Type} & \verb|Integer| \\
            &\textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Region>|} & The region the unit is in. Can be 0 if for example a morphing unit is on a chokepoint (and thus `in-between' regions).\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
\end{tabularx}

\subsection{vespeneGeyser/5}
\begin{tabularx}{\textwidth}{lX}
 Description & Information about visible (though possibly empty) vespene geysers. Empty geysers can still be mined from, though at a reduced rate. \\
 Type & Send always \\
 Syntax & \verb|vespeneGeyser(<Id>,<Resources>,<X>,<Y>,<Region>)| \\
 Example & \verb|vespeneGeyser(57, 5000, 22, 32, 6)| \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<Id>|} & The ID of the vespene geyser.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Resources>|} & The amount of gas left in the vespene geyser, rounded to the nearest (upper) multiple of 100. Can be 0, after which mining workers will obtain much less gas per trip.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<X>|} & The x-coordinate of the vespene geyser.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Y>|} & The y-coordinate of the vespene geyser.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Region>|} & The region the vespene geyser is in.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
\end{tabularx}

\subsection{winner/1}
\begin{tabularx}{\textwidth}{lX}
 Description & Indicates if the player has won or lost at the end of the game. Used mainly for automated testing purposes. \\
 Type & Send once \\
 Syntax &  \verb|winner(<HasWon>)| \\
 Example & \verb|winner(true)|   \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
  Parameters & \textbf{\verb|<HasWon>|} & Whether the player has won or not. \\
             & \textbf{Type} & \verb|Boolean| \\
            & \textbf{Range} & [true,false] \\
            \cline{2-3}
 \end{tabularx}
 
\newpage
 
%%%----------------------------------------------------------
\section{Generic Unit Percepts}
These percepts are generated for all individual units in the game (thus excluding managers). Although the \textit{self} percept represents static information that does not change during the match, the \textit{status} and the \textit{order} percepts are updated frequently.
%%%----------------------------------------------------------

\subsection{self/2}
\begin{tabularx}{\textwidth}{lX}
 Description & Indicates the ID and type of the unit itself. \\
 Type & Send once \\
 Syntax & \verb|self(<Id>,<Type>)| \\
 Example & \verb|self(21, `Terran SCV')|   \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<Id>|} & The ID of the unit.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [1--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Type>|} & The type of the unit. This consists of a string with the race of the unit and the name of the unit parted by a space. \\
            & \textbf{Type} & \verb|String| \\
            & \textbf{Range} & See Section \ref{unittype} \\
            \cline{2-3}
\end{tabularx}

\subsection{status/8}
\begin{tabularx}{\textwidth}{lX}
 Description & The current amount of health, shield and energy of the unit. The \verb|status| percept also shows the conditions of the unit and its current orientation and position. \\
 Type & Send on change \\
 Syntax & \verb|status(<Health>,<Shield>,<Energy>,<Conditions>,| \\
 & \quad \verb|<Orientation>,<X>,<Y>,<Region>)| \\
 Example & \verb|status(250, 0, 0, [moving, carrying], 180, 24, 36, 1)|   \\
 \end{tabularx}\\
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<Health>|} & The current amount of health of the unit.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--\verb|<MaxHealth>|] where \verb|<MaxHealth>| is the maximum health of the given unit.\\
            \cline{2-3}
            & \textbf{\verb|<Shield>|} & The current amount of shields of the unit. \\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--\verb|<MaxShield>|] where \verb|<MaxShield>| is the maximum shield of the given unit. \\
            \cline{2-3}
            & \textbf{\verb|<Energy>|} & The current amount of energy of the unit. \\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--\verb|<MaxEnergy>|] where \verb|<MaxEnergy>| is the maximum energy of the given unit. \\
            \cline{2-3}
            & \textbf{\verb|<Conditions>|} & A list representing the current conditions of the unit. Each unit can have multiple or no conditions depending on the unit and situation.\\
            & \textbf{Type} & \verb|List of Strings| \\
            & \textbf{Range} & See Section \ref{conditions} \\
            \cline{2-3}
            & \textbf{\verb|<Orientation>|} & The orientation of the unit, rounded to the nearest multiple of 45 degrees. \\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--360] \\
            \cline{2-3}
            & \textbf{\verb|<X>|} & The x-coordinate of the unit. \\
            & \textbf{Type} & \verb|Integer| \\
            &\textbf{Range} &  [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Y>|} & The y-coordinate of the unit. \\
            & \textbf{Type} & \verb|Integer| \\
            &\textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Region>|} & The region the unit is in. Can be 0 if the unit is on a chokepoint (and thus `in-between' regions).\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
\end{tabularx}

\subsection{order/5}
\begin{tabularx}{\textwidth}{lX}
 Description & Indicates what order(s) a unit is executing. A unit always has an order (e.g., even `Nothing' is an order). \\
 Type & Send on change \\
 Syntax & \verb|order(<Primary>,<TargetUnit>,<TargetX>,<TargetY>,<Secondary>)| \\
 Example & \verb|order(`AttackMove', -1, 34, 8, `None')|   \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<Primary>|} & The primary order of the unit. Some actions are converted into race or unit specific orders. \\
            & \textbf{Type} & \verb|String| \\
            &\textbf{Range} &  See \url{https://bwapi.github.io/namespace_b_w_a_p_i_1_1_orders.html} \\
            \cline{2-3}
            & \textbf{\verb|<TargetUnit>|} & The ID of the unit the order is targeted at if any; -1 otherwise. \\
            & \textbf{Type} & \verb|Integer| \\
            &\textbf{Range} &  [-1--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<TargetX>|} & The X coordinate of the position the order is targeted at if any; -1 otherwise. \\
            & \textbf{Type} & \verb|Integer| \\
            &\textbf{Range} &  [-1--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<TargetY>|} & The Y coordinate of the position the order is targeted at if any; -1 otherwise. \\
            & \textbf{Type} & \verb|Integer| \\
            &\textbf{Range} &  [-1--$\infty$] \\
            \cline{2-3}
            & \textbf{\verb|<Secondary>|} & The secondary order of the unit. This is usually `None', but is used when for example a Protoss Carrier is both moving and producing units.\\
            & \textbf{Type} & \verb|String| \\
            &\textbf{Range} &  See \url{https://bwapi.github.io/namespace_b_w_a_p_i_1_1_orders.html} \\
            \cline{2-3}
\end{tabularx}

\newpage

%%%----------------------------------------------------------
\section{Unit-Specific Percepts}
These percepts are generated only for specific units in the game. All of these (dynamic) percepts represent information that can change during the match.
%%%----------------------------------------------------------

\subsection{defensiveMatrix/1}
\begin{tabularx}{\textwidth}{lX}
 Description & Information about how much health the defensive matrix has left on the unit. This only applies to friendly Terran units having received such a matrix from a Science Vessel. \\
 Type & Send always \\
 Syntax & \verb|defensiveMatrix(<Health>)| \\
 Example & \verb|defensiveMatrix(200)|   \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<Health>|} & The amount of health left for the defensive matrix.\\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--250] \\
            \cline{2-3}
\end{tabularx}

\subsection{queueSize/1}
\begin{tabularx}{\textwidth}{lX}
 Description & The number of units that are in the queue of any production unit, thus including e.g. Protoss Carriers.\\
 & (Zerg Hatchery/Lair/Hive) the number of of available larva.\\
 & (Terran Nuclear Silo) 1 if a nuke is ready (after a corresponding \textit{train/1} action); 0 otherwise.\\
 & (Terran Vulture) the number of spider mines left (which are automatically granted upon production of the vulture).\\
 & (Protoss Carrier) the number of interceptors (ready and in production).\\
 & (Protoss Reaver) the number of scarabs (ready and in production).\\
 Type & Send on change \\
 Syntax & \verb|queueSize(<Size>)| \\
 Example & \verb|queueSize(2)| \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<Size>|} & See description. \\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--5] \\
            \cline{2-3}
\end{tabularx}

\subsection{researching/1}
\begin{tabularx}{\textwidth}{lX}
 Description & Indicates which upgrade is being researched by the unit (i.e., a building). \\
 Type & Send always \\
 Syntax & \verb|researching(<Type>)| \\
 Example & \verb|researching(`Stim Packs')| \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<Type>|} & The upgrade that is being researched. \\
            & \textbf{Type} & \verb|String| \\
            & \textbf{Range} & See Section \ref{upgradetype} \\
 			& \textbf{Note} & The level of the upgrade (if applicable) is not included. \\
            \cline{2-3}
\end{tabularx}

\subsection{unitLoaded/1}\
\begin{tabularx}{\textwidth}{lX}
 Description & Indicates which unit(s) are loaded inside the loadable unit (e.g. a Terran Bunker or a Protoss Shuttle).\\
 Type & Send always \\
 Syntax & \verb|unitLoaded(<Id>)| \\
 Example & \verb|unitLoaded(154)| \\
 \end{tabularx}
 \begin{tabularx}{\textwidth}{l | c | p{8cm}|}
 \cline{2-3}
 Parameters & \textbf{\verb|<Id>|} & The ID of the loaded unit. \\
            & \textbf{Type} & \verb|Integer| \\
            & \textbf{Range} & [0--$\infty$] \\
            \cline{2-3}
\end{tabularx}